Steps to reproduce results from the paper.
Run on commit 6ddac8d0fb68d5a2db6ad5938a52fc1b5edec470

1. Vim

To reproduce the results of the paper on the Vim text editor, run:

python harvest_heap_data.py 'gnome-terminal -- vim' --pgrepattach vim --num_repeats 10 --pgrepkill vim --outdir vim_heap_analysis

This will open a terminal with the Vim editor launched. Do whatever you want in the editor window, and then press any key on the 
original terminal to begin harvesting the data. This cycle will repeat 10 times.

Now to analyze the results of the memory dumps run:

python analyze.py vim_heap_analysis/ --rank 0

To build the memory cartography graph on Vim run:

python refine_memory_map.py 'gnome-terminal -- vim' --pgrepattach vim --num_repeats 3 --pgrepkill vim --outdir vim_map

To determine the number of regions reachable from the region vim.basic_4, run

python graph_util.py vim_map/memgraph_final.pickle --region /usr/bin/vim.basic_4

Note: An unpleasant sideaffect is the abundance of .sw* files produced. Do rm .sw* to get rid of these once you're done.

2. Firefox

To reproduce the results on Firefox, run:

python harvest_heap_data.py 'firefox mozilla.org' --outdir ff_heap --attach_time 15 --num_repeats 10 --pgrepattach 'Web Content' --pgrepkill 'firefox' --heap_region '' --length_lb 1048576 --length_ub 1048576

then to analyze

python analyze.py ff_heap/ --rank 0

To build the memory cartography map on firefox run:

python refine_memory_map.py 'firefox mozilla.org' --outdir ff_map --attach_time 15 --num_repeats 3 --pgrepattach 'Web Content' --pgrepkill 'firefox' --dump

To determine the connectivity of libxul.so.2 run:

python graph_util.py ff_map/memgraph_final.pickle --region /usr/lib/firefox/libxul.so_2

3. Nginx

Steps to set up the VM:

Download the VM from http://pages.cs.wisc.edu/~rist/642-spring-2014/hw/hwEC.html
Set network adapter to host-only network
Open the VM and edit /etc/network/interfaces to put the VM on the static IP 192.168.26.2
Restart the network manager in the VM, and check that the host can ping the VM


python3 harvest_heap_data.py 'sudo /etc/init.d/nginx restart; sleep 5; python nginx_requests.py; echo "done!"' --outdir nginx_heap --attach_time 25 --num_repeats 1 --pgrepattach 'nginx' --pgrepuser 'www-data' --pgrepkill 'nginx' --killsig 0


